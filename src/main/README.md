# 柚子写作 - 主进程 (Main Process)

## 🏗️ 技术架构
- **运行时**: Electron <!-- 使用 Electron 框架作为应用运行时 -->
- **持久化**: electron-store <!-- 使用 electron-store 进行轻量级配置存储 -->
- **文件处理**: Node.js fs & path <!-- 使用 Node.js 原生模块处理文件系统与路径 -->
- **时间处理**: Day.js <!-- 使用 Day.js 进行日期和时间格式化 -->

## 📂 核心模块
- `index.js`: 主进程入口文件 <!-- 负责窗口创建、IPC 通信处理、应用生命周期管理 -->
- `updater.js`: 自动更新逻辑 <!-- 负责检测新版本并执行应用更新 -->

## 💡 主要职责
- **窗口管理**: 
  - 创建并配置主渲染窗口 <!-- 初始化 Electron 浏览器窗口 -->
  - 处理全屏切换逻辑 <!-- 响应渲染进程的全屏请求 -->
- **IPC 通信 (Inter-Process Communication)**:
  - 处理文件读写请求（书籍、章节、笔记、大纲等） <!-- 封装底层文件操作提供给前端调用 -->
  - 处理配置存储请求 (`store:get`, `store:set`, `store:delete`) <!-- 提供持久化配置读写接口 -->
  - 处理对话框弹出请求 (如选择文件夹、保存提示) <!-- 调用系统原生对话框 -->
- **文件系统操作**:
  - 管理书籍目录结构 <!-- 维护小说数据在磁盘上的组织方式 -->
  - 处理章节切分与自动保存逻辑 <!-- 确保创作内容安全落地到磁盘 -->
- **系统集成**:
  - 注册全局快捷键 <!-- 提供跨窗口的便捷操作 -->
  - 处理 Dock 图标 (macOS) <!-- 优化不同操作系统下的视觉呈现 -->

## 🛠️ 安全性
- 数据完全本地存储 <!-- 确保用户隐私与内容安全 -->
- 支持为书籍设置加密保护 <!-- 防止未授权访问敏感创作内容 -->
